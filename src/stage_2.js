class stage_2 extends Phaser.Scene {
  constructor() {
    super({ key: "stage_2" });
  }

  preload() {
    this.load.image("phishing", "src/assets/phishing_scam_villain.png");
  }

  create() {
    this.background = this.add.image(640, 360, "background").setScale(0.478);
  }

  preloadWindow() {
    this.background = this.add.image(640, 360, "window").setScale(0.478);
    start = this.add
      .text(370, 300, "START", { fontFamily: "DisposableDroidBB" })
      .setFontSize(60)
      .setInteractive();
    goToWebsite = this.add
      .text(370, 370, "Visit website", { fontFamily: "DisposableDroidBB" })
      .setFontSize(40)
      .setStroke("#12161B", 5)
      .setInteractive();

    start.on("pointerdown", function () {
      startClicked = 1;
      console.log(startClicked);
    });
    goToWebsite.on("pointerdown", function () {
      window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ", "_blank");
    });
  }

  stageSelectionWindow(x, y) {
    this.stageSelection = this.add
      .image(640, 360, "stageSelection")
      .setScale(0.478);
    closeWindow = this.add.image(1090, 65, "X").setScale(0.478).setInteractive();
    stage1 = this.add.image(x, y, "frame").setScale(0.478)
    stage2 = this.add.image(x+125, y, "frame").setScale(0.478)
    stage3 = this.add.image(x+250, y, "frame").setScale(0.478)
    stage4 = this.add.image(x+375, y, "frame").setScale(0.478)
    this.add.text(x-46, y+60, "stage_1", { fontFamily: "DisposableDroidBB" }).setFontSize(25)
    this.add.text(x+79, y+60, "stage_2", { fontFamily: "DisposableDroidBB" }).setFontSize(25)
    this.add.text(x+204, y+60, "stage_3", { fontFamily: "DisposableDroidBB" }).setFontSize(25)
    this.add.text(x+329, y+60, "stage_4", { fontFamily: "DisposableDroidBB" }).setFontSize(25)

    closeWindow.on("pointerdown", function () {
        startClicked = 0;
        console.log(startClicked);
      });
  }

  update() {
    if (startClicked == 0) {
      this.preloadWindow();
      startClicked = 2;
    } else if (startClicked == 1) {
      this.stageSelectionWindow(450, 240);
      startClicked = 2;
    }
  }
}